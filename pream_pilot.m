function pream = pream_pilot(FFT_num,CP_num)
%生成前导；
%基本序列
Pall_p=[-1-1j,  1+1j, -1+1j, -1+1j, -1-1j,  1+1j,  1+1j,  1+1j, -1-1j,  1+1j,...
         1-1j,  1-1j,  1-1j, -1+1j, -1+1j, -1+1j, -1+1j,  1-1j, -1-1j, -1-1j,...
        -1+1j,  1-1j,  1+1j,  1+1j, -1+1j,  1-1j,  1-1j,  1-1j, -1+1j,  1-1j,...
        -1-1j, -1-1j, -1-1j,  1+1j,  1+1j,  1+1j,  1+1j, -1-1j, -1+1j, -1+1j,...
         1+1j, -1-1j,  1-1j,  1-1j,  1+1j, -1-1j, -1-1j, -1-1j,  1+1j, -1-1j,... 
        -1+1j, -1+1j, -1+1j,  1-1j,  1-1j,  1-1j,  1-1j, -1+1j,  1+1j,  1+1j,...
        -1-1j,  1+1j, -1+1j, -1+1j, -1-1j,  1+1j,  1+1j,  1+1j, -1-1j,  1+1j,...
         1-1j,  1-1j,  1-1j, -1+1j, -1+1j, -1+1j, -1+1j,  1-1j, -1-1j, -1-1j,...
         1-1j, -1+1j, -1-1j, -1-1j,  1-1j, -1+1j, -1+1j, -1+1j,  1-1j, -1+1j,...
         1+1j,  1+1j,  1+1j, -1-1j, -1-1j, -1-1j, -1-1j,  1+1j,  1-1j,  1-1j].';
Pall_n=[ 1-1j,  1-1j, -1-1j,  1+1j,  1-1j,  1-1j, -1+1j,  1-1j,  1-1j,  1-1j,...
         1+1j, -1-1j,  1+1j,  1+1j, -1-1j,  1+1j, -1-1j, -1-1j,  1-1j, -1+1j,...
         1-1j,  1-1j, -1-1j,  1+1j,  1-1j,  1-1j, -1+1j,  1-1j,  1-1j,  1-1j,...
         1+1j, -1-1j,  1+1j,  1+1j, -1-1j,  1+1j, -1-1j, -1-1j,  1-1j, -1+1j,...
         1-1j,  1-1j, -1-1j,  1+1j,  1-1j,  1-1j, -1+1j,  1-1j,  1-1j,  1-1j,... 
         1+1j, -1-1j,  1+1j,  1+1j, -1-1j,  1+1j, -1-1j, -1-1j,  1-1j, -1+1j,...
         1+1j,  1+1j,  1-1j, -1+1j,  1+1j,  1+1j, -1-1j,  1+1j,  1+1j,  1+1j,...
        -1+1j,  1-1j, -1+1j, -1+1j,  1-1j, -1+1j,  1-1j,  1-1j,  1+1j, -1-1j,...
        -1-1j, -1-1j, -1+1j,  1-1j, -1-1j, -1-1j,  1+1j, -1-1j, -1-1j, -1-1j,...
         1-1j, -1+1j,  1-1j,  1-1j, -1+1j,  1-1j, -1+1j, -1+1j, -1-1j, 1+1j].';
%% 短前导
pream_short_p = zeros(100,1);
pream_short_n = zeros(100,1);
pream_short_p(4:4:end) = conj(Pall_p(4:4:end));
pream_short_n(1:4:end) = conj(Pall_n(1:4:end));
   %组成短前导,功率归一化
pream_short_freq = [0;pream_short_p;zeros(55,1);pream_short_n];
pream_short_time = ifft(pream_short_freq,FFT_num);
pream_short = round([pream_short_time(64-CP_num+1:64);repmat(pream_short_time(1:64),4,1)]*(8192*sqrt(2)));
%% 长前导
pream_long_p = zeros(100,1);
pream_long_n = zeros(100,1);
pream_long_p(2:2:end) = Pall_p(2:2:end);
pream_long_n(1:2:end) = Pall_n(1:2:end);
   %组成长前导,功率归一化
pream_long_freq = [0;pream_long_p;zeros(55,1);pream_long_n];
pream_long_time = ifft(pream_long_freq,FFT_num);
pream_long = round([pream_long_time(128-CP_num+1:128);repmat(pream_long_time(1:128),2,1)]*8192);
%% 输出前导
pream = [pream_short;pream_long].';
end